{% extends 'main.html.twig' %}

{% block title %}À Propos - Village Green{% endblock %}

{% block body %}


<div class="hero">
  <h1>Village Green</h1>
  <p>Votre boutique en ligne dédiée aux instruments de musique : guitares, pianos, percussions et bien plus. La musique, à portée de main.</p>
</div>

<div class="section">
  <div class="section-text">
    <h2>Qui Nous Sommes</h2>
    <p>Village Green est né de la passion pour la musique. Nous sommes une équipe de musiciens et de passionnés qui souhaitons partager notre amour des instruments avec vous.</p>
  </div>
  <img src="https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4" alt="Guitares en magasin">
</div>

<div class="section">
  <div class="section-text">
    <h2>Ce Que Nous Faisons</h2>
    <p>Nous proposons un large choix d’instruments de musique : guitares, pianos, batteries, violons, ainsi que des accessoires de qualité pour débutants et professionnels.</p>
  </div>
  <img src="https://images.unsplash.com/photo-1507838153414-b4b713384a76" alt="Instruments variés">
</div>

<div class="section">
  <div class="section-text">
    <h2>Pourquoi Nous Le Faisons</h2>
    <p>Notre mission est de rendre la musique accessible à tous. Que vous soyez débutant ou artiste confirmé, nous croyons que chaque personne mérite de trouver l’instrument qui lui correspond.</p>
  </div>
  <img src="https://images.unsplash.com/photo-1485579149621-3123dd979885" alt="Musicien jouant">
</div>

<div class="section">
  <div class="section-text">
    <h2>Ce Qui Nous Rend Différents</h2>
    <p>Chez Village Green, nous ne vendons pas seulement des instruments : nous offrons un accompagnement personnalisé, des conseils de musiciens passionnés et une sélection d’instruments testés et approuvés.</p>
  </div>
  <img src="https://images.unsplash.com/photo-1485579149621-3123dd979885" alt="Atelier de musique">
</div>

<div class="cta btn-success">
  <button onclick="toggleForm()">Nous Contacter</button>
</div>

<div class="contact-form" id="contactForm" style="display: block;">
    <h2>Contactez-Nous</h2>

    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="alert alert-{{ label == 'success' ? 'success' : 'danger' }}">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}

    {{ form_start(contactForm, {'attr': {'novalidate': 'novalidate'}}) }}
        <div class="mb-3">
            {{ form_widget(contactForm.name, {'attr': {'class': 'form-control', 'placeholder': 'Votre Nom'}}) }}
        </div>
        <div class="mb-3">
            {{ form_widget(contactForm.email, {'attr': {'class': 'form-control', 'placeholder': 'Votre Email'}}) }}
        </div>
        <div class="mb-3">
            {{ form_widget(contactForm.number, {'attr': {'class': 'form-control', 'placeholder': 'Votre Numéro'}}) }}
        </div>
        <div class="mb-3">
            {{ form_widget(contactForm.message, {'attr': {'class': 'form-control', 'placeholder': 'Votre Message', 'rows': 5}}) }}
        </div>
        <button type="submit" class="btn btn-success">Envoyer</button>
    {{ form_end(contactForm) }}
</div>

<script>
 function toggleForm() {
    const form = document.getElementById("contactForm");
    form.style.display = form.style.display === "block" ? "none" : "block";
    form.scrollIntoView({ behavior: "smooth" });
  }
  document.addEventListener('DOMContentLoaded', function () {
    const form = document.getElementById('contactForm');

    form.addEventListener('submit', function (e) {
        let valid = true;
        let messages = [];

        // Get form fields
        const name = form.querySelector('input[name="contact[name]"]');
        const email = form.querySelector('input[name="contact[email]"]');
        const number = form.querySelector('input[name="contact[number]"]');
        const message = form.querySelector('textarea[name="contact[message]"]');

        // Name validation
        if (!name.value.trim()) {
            valid = false;
            messages.push('Le nom est requis.');
        }

        // Email validation
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!email.value.trim() || !emailPattern.test(email.value)) {
            valid = false;
            messages.push('Un email valide est requis.');
        }

        // Phone number validation (basic)
        const phonePattern = /^\+?[0-9\s\-]{6,15}$/;
        if (!number.value.trim() || !phonePattern.test(number.value)) {
            valid = false;
            messages.push('Un numéro de téléphone valide est requis.');
        }

        // Message validation
        if (!message.value.trim()) {
            valid = false;
            messages.push('Le message est requis.');
        }

        if (!valid) {
            e.preventDefault(); // stop form submission
            alert(messages.join('\n')); // show error messages
        }
    });


});
</script>
{% endblock %}
